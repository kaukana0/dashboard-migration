<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1705px" preserveAspectRatio="none" style="width:1410px;height:1705px;" version="1.1" viewBox="0 0 1410 1705" width="1410px" zoomAndPan="magnify"><defs><filter height="300%" id="f12bpisrcfkr6u" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f12bpisrcfkr6u)" height="268.4609" style="stroke:#000000;stroke-width:2.0;" width="1160" x="36" y="410.7578"/><rect fill="#FFFFFF" filter="url(#f12bpisrcfkr6u)" height="466.2578" style="stroke:#000000;stroke-width:2.0;" width="990.5" x="237.5" y="1055.8125"/><rect fill="#FFFFFF" filter="url(#f12bpisrcfkr6u)" height="75.3984" style="stroke:#000000;stroke-width:2.0;" width="970.5" x="247.5" y="1381.4063"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="23" x2="23" y1="88.2969" y2="1621.3359"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="115.5" x2="115.5" y1="88.2969" y2="1621.3359"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="215.5" x2="215.5" y1="88.2969" y2="1621.3359"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="295.5" x2="295.5" y1="88.2969" y2="1621.3359"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="417" x2="417" y1="88.2969" y2="1621.3359"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="521" x2="521" y1="88.2969" y2="1621.3359"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="667" x2="667" y1="88.2969" y2="1621.3359"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="880.5" x2="880.5" y1="88.2969" y2="1621.3359"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1010.5" x2="1010.5" y1="88.2969" y2="1621.3359"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1088.5" x2="1088.5" y1="88.2969" y2="1621.3359"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1172" x2="1172" y1="88.2969" y2="1621.3359"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31" x="5" y="84.9951">user</text><ellipse cx="23.5" cy="15" fill="#FEFECE" filter="url(#f12bpisrcfkr6u)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M23.5,23 L23.5,50 M10.5,31 L36.5,31 M23.5,50 L10.5,65 M23.5,50 L36.5,65 " fill="none" filter="url(#f12bpisrcfkr6u)" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31" x="5" y="1633.3311">user</text><ellipse cx="23.5" cy="1646.6328" fill="#FEFECE" filter="url(#f12bpisrcfkr6u)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M23.5,1654.6328 L23.5,1681.6328 M10.5,1662.6328 L36.5,1662.6328 M23.5,1681.6328 L10.5,1696.6328 M23.5,1681.6328 L36.5,1696.6328 " fill="none" filter="url(#f12bpisrcfkr6u)" style="stroke:#A80036;stroke-width:2.0;"/><rect fill="#FEFECE" filter="url(#f12bpisrcfkr6u)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="46" x="90.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32" x="97.5" y="72.9951">Main</text><rect fill="#FEFECE" filter="url(#f12bpisrcfkr6u)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="46" x="90.5" y="1620.3359"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32" x="97.5" y="1640.3311">Main</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="58" x="183.5" y="84.9951">YAMLcfg</text><ellipse cx="215.5" cy="56" fill="#FEFECE" filter="url(#f12bpisrcfkr6u)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2.0;"/><line style="stroke:#A80036;stroke-width:2.0;" x1="203.5" x2="227.5" y1="70" y2="70"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="58" x="183.5" y="1633.3311">YAMLcfg</text><ellipse cx="215.5" cy="1652.6328" fill="#FEFECE" filter="url(#f12bpisrcfkr6u)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2.0;"/><line style="stroke:#A80036;stroke-width:2.0;" x1="203.5" x2="227.5" y1="1666.6328" y2="1666.6328"/><rect fill="#FEFECE" filter="url(#f12bpisrcfkr6u)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="72" x="257.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="58" x="264.5" y="72.9951">view.mjs</text><rect fill="#FEFECE" filter="url(#f12bpisrcfkr6u)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="72" x="257.5" y="1620.3359"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="58" x="264.5" y="1640.3311">view.mjs</text><rect fill="#FEFECE" filter="url(#f12bpisrcfkr6u)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="85" x="373" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="71" x="380" y="72.9951">MainMenu</text><rect fill="#FEFECE" filter="url(#f12bpisrcfkr6u)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="85" x="373" y="1620.3359"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="71" x="380" y="1640.3311">MainMenu</text><rect fill="#FEFECE" filter="url(#f12bpisrcfkr6u)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="94" x="472" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="80" x="479" y="72.9951">CountryBox</text><rect fill="#FEFECE" filter="url(#f12bpisrcfkr6u)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="94" x="472" y="1620.3359"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="80" x="479" y="1640.3311">CountryBox</text><rect fill="#FEFECE" filter="url(#f12bpisrcfkr6u)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="54" x="638" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40" x="645" y="72.9951">Cards</text><rect fill="#FEFECE" filter="url(#f12bpisrcfkr6u)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="54" x="638" y="1620.3359"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40" x="645" y="1640.3311">Cards</text><rect fill="#FEFECE" filter="url(#f12bpisrcfkr6u)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="83" x="837.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69" x="844.5" y="72.9951">ChartCard</text><rect fill="#FEFECE" filter="url(#f12bpisrcfkr6u)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="83" x="837.5" y="1620.3359"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69" x="844.5" y="1640.3311">ChartCard</text><rect fill="#FEFECE" filter="url(#f12bpisrcfkr6u)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="95" x="961.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81" x="968.5" y="72.9951">slotContent</text><rect fill="#FEFECE" filter="url(#f12bpisrcfkr6u)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="95" x="961.5" y="1620.3359"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81" x="968.5" y="1640.3311">slotContent</text><rect fill="#FEFECE" filter="url(#f12bpisrcfkr6u)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="32" x="1070.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="18" x="1077.5" y="72.9951">Url</text><rect fill="#FEFECE" filter="url(#f12bpisrcfkr6u)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="32" x="1070.5" y="1620.3359"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="18" x="1077.5" y="1640.3311">Url</text><rect fill="#FEFECE" filter="url(#f12bpisrcfkr6u)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="67" x="1137" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="53" x="1144" y="72.9951">Fetcher</text><rect fill="#FEFECE" filter="url(#f12bpisrcfkr6u)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="67" x="1137" y="1620.3359"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="53" x="1144" y="1640.3311">Fetcher</text><rect fill="#EEEEEE" filter="url(#f12bpisrcfkr6u)" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="1403" x="0" y="118.8633"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1403" y1="118.8633" y2="118.8633"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1403" y1="121.8633" y2="121.8633"/><rect fill="#EEEEEE" filter="url(#f12bpisrcfkr6u)" height="23.1328" style="stroke:#000000;stroke-width:2.0;" width="42" x="680.5" y="108.2969"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="23" x="686.5" y="124.3638">init</text><polygon fill="#A80036" points="103.5,158.5625,113.5,162.5625,103.5,166.5625,107.5,162.5625" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="23.5" x2="109.5" y1="162.5625" y2="162.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="68" x="30.5" y="157.4966">open page</text><polygon fill="#A80036" points="203.5,217.9609,213.5,221.9609,203.5,225.9609,207.5,221.9609" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="115.5" x2="209.5" y1="221.9609" y2="221.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="57" x="122.5" y="186.6294">read and</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="48" x="126.5" y="201.7622">convert</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="72" x="126.5" y="216.895">to JS object</text><polygon fill="#A80036" points="283.5,247.0938,293.5,251.0938,283.5,255.0938,287.5,251.0938" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="115.5" x2="289.5" y1="251.0938" y2="251.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="48" x="122.5" y="246.0278">init(cfg)</text><polygon fill="#A80036" points="405.5,276.2266,415.5,280.2266,405.5,284.2266,409.5,280.2266" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="295.5" x2="411.5" y1="280.2266" y2="280.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="98" x="302.5" y="275.1606">create from cfg</text><polygon fill="#A80036" points="509,305.3594,519,309.3594,509,313.3594,513,309.3594" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="295.5" x2="515" y1="309.3594" y2="309.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="70" x="302.5" y="304.2935">fill from cfg</text><polygon fill="#A80036" points="655,334.4922,665,338.4922,655,342.4922,659,338.4922" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="295.5" x2="661" y1="338.4922" y2="338.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="98" x="302.5" y="333.4263">create from cfg</text><line style="stroke:#A80036;stroke-width:1.0;" x1="667" x2="709" y1="382.7578" y2="382.7578"/><line style="stroke:#A80036;stroke-width:1.0;" x1="709" x2="709" y1="382.7578" y2="395.7578"/><line style="stroke:#A80036;stroke-width:1.0;" x1="668" x2="709" y1="395.7578" y2="395.7578"/><polygon fill="#A80036" points="678,391.7578,668,395.7578,678,399.7578,674,395.7578" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="183" x="674" y="362.5591">merge "indicatorBase" cfg w/</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="176" x="678" y="377.6919">each indivudial indicator cfg</text><path d="M36,410.7578 L113,410.7578 L113,417.7578 L103,427.7578 L36,427.7578 L36,410.7578 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="268.4609" style="stroke:#000000;stroke-width:2.0;" width="1160" x="36" y="410.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="32" x="51" y="423.8247">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="80" x="128" y="422.9683">[∀ indicator]</text><polygon fill="#A80036" points="869,445.0234,879,449.0234,869,453.0234,873,449.0234" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="667" x2="875" y1="449.0234" y2="449.0234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="98" x="674" y="443.9575">create from cfg</text><polygon fill="#A80036" points="999,486.7227,1009,490.7227,999,494.7227,1003,490.7227" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="667" x2="1005" y1="490.7227" y2="490.7227"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="98" x="674" y="485.6567">create from cfg</text><path d="M1016,462.0234 L1016,502.0234 L1177,502.0234 L1177,472.0234 L1167,462.0234 L1016,462.0234 " fill="#FBFB77" filter="url(#f12bpisrcfkr6u)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1167,462.0234 L1167,472.0234 L1177,472.0234 L1167,462.0234 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="100" x="1022" y="479.0903">slotContent is a</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="140" x="1022" y="494.2231">bunch of select-boxes</text><polygon fill="#A80036" points="869,556.1211,879,560.1211,869,564.1211,873,560.1211" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="667" x2="875" y1="560.1211" y2="560.1211"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="134" x="674" y="539.9224">set attribute "urlfrag"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="166" x="678" y="555.0552">from cfg-property "non-ui"</text><path d="M280,516.2891 L280,571.2891 L658,571.2891 L658,526.2891 L648,516.2891 L280,516.2891 " fill="#FBFB77" filter="url(#f12bpisrcfkr6u)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M648,516.2891 L648,526.2891 L658,526.2891 L648,516.2891 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="254" x="286" y="533.356">content is a row of select boxes; one for</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="277" x="286" y="548.4888">every selectable dimension except country.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="357" x="286" y="563.6216">Each box gets an attribute: the dimension it represents.</text><polygon fill="#A80036" points="869,610.3867,879,614.3867,869,618.3867,873,614.3867" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="667" x2="875" y1="614.3867" y2="614.3867"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116" x="674" y="609.3208">insert slot content</text><path d="M46,585.6875 L46,625.6875 L658,625.6875 L658,595.6875 L648,585.6875 L46,585.6875 " fill="#FBFB77" filter="url(#f12bpisrcfkr6u)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M648,585.6875 L648,595.6875 L658,595.6875 L648,585.6875 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="591" x="52" y="602.7544">ChartCard has a dedictated (WebComponent-)slot for selectBoxes - it's a row above the title.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="413" x="52" y="617.8872">Whereas the slotContent itself is not managed by the ChartCard.</text><polygon fill="#A80036" points="869,667.2188,879,671.2188,869,675.2188,873,671.2188" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="667" x2="875" y1="671.2188" y2="671.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96" x="674" y="651.02">register events</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="190" x="674" y="666.1528">"expanding" and "contracting"</text><polygon fill="#A80036" points="1076.5,703.3516,1086.5,707.3516,1076.5,711.3516,1080.5,707.3516" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="295.5" x2="1082.5" y1="707.3516" y2="707.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="194" x="302.5" y="702.2856">set base URL as "global" prefix</text><polygon fill="#A80036" points="999,732.4844,1009,736.4844,999,740.4844,1003,736.4844" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="295.5" x2="1005" y1="736.4844" y2="736.4844"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="417" x="302.5" y="731.4185">set the same callback on each selectBox ("onSelectForOneCard")</text><polygon fill="#A80036" points="509,776.75,519,780.75,509,784.75,513,780.75" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="295.5" x2="515" y1="780.75" y2="780.75"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="129" x="302.5" y="760.5513">set another callback</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="148" x="306.5" y="775.6841">("onSelectForAllCards")</text><rect fill="#EEEEEE" filter="url(#f12bpisrcfkr6u)" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="1403" x="0" y="809.3164"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1403" y1="809.3164" y2="809.3164"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1403" y1="812.3164" y2="812.3164"/><rect fill="#EEEEEE" filter="url(#f12bpisrcfkr6u)" height="23.1328" style="stroke:#000000;stroke-width:2.0;" width="282" x="560.5" y="798.75"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="263" x="566.5" y="814.8169">interaction: click on card to expand</text><polygon fill="#A80036" points="869,849.0156,879,853.0156,869,857.0156,873,853.0156" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="23.5" x2="875" y1="853.0156" y2="853.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="34" x="30.5" y="847.9497">clicks</text><line style="stroke:#A80036;stroke-width:1.0;" x1="881" x2="923" y1="882.1484" y2="882.1484"/><line style="stroke:#A80036;stroke-width:1.0;" x1="923" x2="923" y1="882.1484" y2="895.1484"/><line style="stroke:#A80036;stroke-width:1.0;" x1="882" x2="923" y1="895.1484" y2="895.1484"/><polygon fill="#A80036" points="892,891.1484,882,895.1484,892,899.1484,888,895.1484" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116" x="888" y="877.0825">rearrange content</text><polygon fill="#A80036" points="678,920.2813,668,924.2813,678,928.2813,674,924.2813" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="672" x2="880" y1="924.2813" y2="924.2813"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="149" x="684" y="919.2153">emit event "expanding"</text><polygon fill="#A80036" points="532,964.5469,522,968.5469,532,972.5469,528,968.5469" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="526" x2="666" y1="968.5469" y2="968.5469"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104" x="538" y="948.3481">move from Main</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122" x="538" y="963.481">HTML into card slot</text><path d="M85,939.8477 L85,964.8477 L512,964.8477 L512,949.8477 L502,939.8477 L85,939.8477 " fill="#FBFB77" filter="url(#f12bpisrcfkr6u)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M502,939.8477 L502,949.8477 L512,949.8477 L502,939.8477 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="406" x="91" y="956.9146">similarly, move from card slot to Main HTML on "contract" event</text><rect fill="#EEEEEE" filter="url(#f12bpisrcfkr6u)" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="1403" x="0" y="997.1133"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1403" y1="997.1133" y2="997.1133"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1403" y1="1000.1133" y2="1000.1133"/><rect fill="#EEEEEE" filter="url(#f12bpisrcfkr6u)" height="23.1328" style="stroke:#000000;stroke-width:2.0;" width="226" x="588.5" y="986.5469"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="207" x="594.5" y="1002.6138">interaction: select a country</text><polygon fill="#A80036" points="306.5,1036.8125,296.5,1040.8125,306.5,1044.8125,302.5,1040.8125" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="300.5" x2="520" y1="1040.8125" y2="1040.8125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96" x="312.5" y="1035.7466">invoke callback</text><path d="M237.5,1055.8125 L314.5,1055.8125 L314.5,1062.8125 L304.5,1072.8125 L237.5,1072.8125 L237.5,1055.8125 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="466.2578" style="stroke:#000000;stroke-width:2.0;" width="990.5" x="237.5" y="1055.8125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="32" x="252.5" y="1068.8794">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="80" x="329.5" y="1068.0229">[∀ indicator]</text><polygon fill="#A80036" points="655,1090.0781,665,1094.0781,655,1098.0781,659,1094.0781" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="295.5" x2="661" y1="1094.0781" y2="1094.0781"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="89" x="302.5" y="1089.0122">get selections</text><polygon fill="#A80036" points="999,1139.3438,1009,1143.3438,999,1147.3438,1003,1143.3438" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="667" x2="1005" y1="1143.3438" y2="1143.3438"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="273" x="674" y="1138.2778">get selected and dimension from each box</text><path d="M1016,1107.0781 L1016,1162.0781 L1176,1162.0781 L1176,1117.0781 L1166,1107.0781 L1016,1107.0781 " fill="#FBFB77" filter="url(#f12bpisrcfkr6u)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1166,1107.0781 L1166,1117.0781 L1176,1117.0781 L1166,1107.0781 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="100" x="1022" y="1124.145">for all that have</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139" x="1022" y="1139.2778">"dimension" attribute;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="115" x="1022" y="1154.4106">which all boxes do</text><polygon fill="#A80036" points="509,1188.6094,519,1192.6094,509,1196.6094,513,1192.6094" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="295.5" x2="515" y1="1192.6094" y2="1192.6094"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="119" x="302.5" y="1187.5435">get selected items</text><polygon fill="#A80036" points="869,1217.7422,879,1221.7422,869,1225.7422,873,1221.7422" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="295.5" x2="875" y1="1221.7422" y2="1221.7422"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="135" x="302.5" y="1216.6763">get attribute "urlfrag"</text><polygon fill="#A80036" points="1076.5,1246.875,1086.5,1250.875,1076.5,1254.875,1080.5,1250.875" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="295.5" x2="1082.5" y1="1250.875" y2="1250.875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="140" x="302.5" y="1245.8091">set "urlfrag" as postfix</text><polygon fill="#A80036" points="1076.5,1276.0078,1086.5,1280.0078,1076.5,1284.0078,1080.5,1280.0078" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="295.5" x2="1082.5" y1="1280.0078" y2="1280.0078"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="188" x="302.5" y="1274.9419">build URL from collected infos</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1088.5" x2="1130.5" y1="1324.2734" y2="1324.2734"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1130.5" x2="1130.5" y1="1324.2734" y2="1337.2734"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1089.5" x2="1130.5" y1="1337.2734" y2="1337.2734"/><polygon fill="#A80036" points="1099.5,1333.2734,1089.5,1337.2734,1099.5,1341.2734,1095.5,1337.2734" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="50" x="1095.5" y="1304.0747">get URL</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="66" x="1099.5" y="1319.2075">fragments</text><polygon fill="#A80036" points="306.5,1362.4063,296.5,1366.4063,306.5,1370.4063,302.5,1366.4063" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="300.5" x2="1087.5" y1="1366.4063" y2="1366.4063"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="89" x="312.5" y="1361.3403">complete URL</text><path d="M247.5,1381.4063 L599.5,1381.4063 L599.5,1388.4063 L589.5,1398.4063 L247.5,1398.4063 L247.5,1381.4063 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="75.3984" style="stroke:#000000;stroke-width:2.0;" width="970.5" x="247.5" y="1381.4063"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="307" x="262.5" y="1394.4731">see sequence diagram "fetch" for details</text><polygon fill="#A80036" points="1160.5,1415.6719,1170.5,1419.6719,1160.5,1423.6719,1164.5,1419.6719" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="295.5" x2="1166.5" y1="1419.6719" y2="1419.6719"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="126" x="302.5" y="1414.606">fetch(URL, callback)</text><polygon fill="#A80036" points="306.5,1444.8047,296.5,1448.8047,306.5,1452.8047,302.5,1448.8047" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="300.5" x2="1171.5" y1="1448.8047" y2="1448.8047"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="269" x="312.5" y="1443.7388">invoke callback w/ billboard.js specific data</text><polygon fill="#A80036" points="655,1480.9375,665,1484.9375,655,1488.9375,659,1484.9375" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="295.5" x2="661" y1="1484.9375" y2="1484.9375"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="118" x="302.5" y="1479.8716">set data for 1 card</text><polygon fill="#A80036" points="869,1510.0703,879,1514.0703,869,1518.0703,873,1514.0703" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="667" x2="875" y1="1514.0703" y2="1514.0703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="53" x="674" y="1509.0044">set data</text><rect fill="#EEEEEE" filter="url(#f12bpisrcfkr6u)" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="1403" x="0" y="1549.6367"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1403" y1="1549.6367" y2="1549.6367"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1403" y1="1552.6367" y2="1552.6367"/><rect fill="#EEEEEE" filter="url(#f12bpisrcfkr6u)" height="23.1328" style="stroke:#000000;stroke-width:2.0;" width="461" x="471" y="1539.0703"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="442" x="477" y="1555.1372">interaction: select a dimension / time inside expanded card</text><polygon fill="#A80036" points="306.5,1594.3359,296.5,1598.3359,306.5,1602.3359,302.5,1598.3359" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="300.5" x2="1010" y1="1598.3359" y2="1598.3359"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96" x="312.5" y="1593.27">invoke callback</text><path d="M1016,1577.2031 L1016,1602.2031 L1389,1602.2031 L1389,1587.2031 L1379,1577.2031 L1016,1577.2031 " fill="#FBFB77" filter="url(#f12bpisrcfkr6u)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1379,1577.2031 L1379,1587.2031 L1389,1587.2031 L1379,1577.2031 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="352" x="1022" y="1594.27">rest is similar to loop content above, just for 1 indicator</text><!--MD5=[2db50271b4f25353b6903ec3d9084e98]
@startuml sequence

actor user

participant Main
entity      YAMLcfg
participant view.mjs

== init ==

user -> Main: open page
Main -> YAMLcfg: read and \n convert \n to JS object
Main -> view.mjs: init(cfg)
view.mjs -> MainMenu: create from cfg
view.mjs -> CountryBox: fill from cfg
view.mjs -> Cards: create from cfg
Cards -> Cards: merge "indicatorBase" cfg w/ \n each indivudial indicator cfg
loop ∀ indicator
Cards -> ChartCard: create from cfg
Cards -> slotContent: create from cfg
note right
slotContent is a
bunch of select-boxes
end note
Cards -> ChartCard: set attribute "urlfrag" \n from cfg-property "non-ui"
note left
content is a row of select boxes; one for
every selectable dimension except country.
Each box gets an attribute: the dimension it represents.
end note
Cards -> ChartCard: insert slot content
note left
ChartCard has a dedictated (WebComponent-)slot for selectBoxes - it's a row above the title.
Whereas the slotContent itself is not managed by the ChartCard.
end note
Cards -> ChartCard: register events \n"expanding" and "contracting"
end
view.mjs -> Url: set base URL as "global" prefix
view.mjs -> slotContent: set the same callback on each selectBox ("onSelectForOneCard")
view.mjs -> CountryBox: set another callback \n ("onSelectForAllCards")

== interaction: click on card to expand ==

user -> ChartCard: clicks
ChartCard -> ChartCard: rearrange content
ChartCard - -> Cards: emit event "expanding"
Cards -> CountryBox: move from Main \nHTML into card slot

note left
similarly, move from card slot to Main HTML on "contract" event
end note

== interaction: select a country ==

CountryBox -> view.mjs: invoke callback
loop ∀ indicator
  view.mjs -> Cards: get selections
  Cards -> slotContent: get selected and dimension from each box
  note right
  for all that have 
  "dimension" attribute;
  which all boxes do
  end note
  view.mjs -> CountryBox: get selected items
  view.mjs -> ChartCard: get attribute "urlfrag"
  view.mjs -> Url: set "urlfrag" as postfix
  view.mjs -> Url: build URL from collected infos
  Url -> Url: get URL \n fragments
  Url - -> view.mjs: complete URL
  group see sequence diagram "fetch" for details
    view.mjs -> Fetcher: fetch(URL, callback)
    Fetcher - -> view.mjs: invoke callback w/ billboard.js specific data
  end
  view.mjs -> Cards: set data for 1 card
  Cards -> ChartCard: set data
end

== interaction: select a dimension / time inside expanded card ==

slotContent -> view.mjs: invoke callback
note right: rest is similar to loop content above, just for 1 indicator

@enduml

PlantUML version 1.2021.00(Sun Jan 10 11:25:05 CET 2021)
(MIT source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: GB
--></g></svg>